server:
  port: 8080

spring:
  application:
    name: takeaway-platform

  datasource:
    url: jdbc:mysql://localhost:3306/takeaway_db?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect

  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: Asia/Shanghai

# JWT配置
jwt:
  secret: takeaway-platform-jwt-secret-key-2024-very-long-secret-key-for-security
  expiration: 86400000  # 24小时

# 日志配置
logging:
  level:
    root: INFO
    com.takeaway: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

# 文件上传配置
file:
  upload:
    path: ./uploads
    max-size: 10MB

# 支付宝配置
alipay:
  # 应用ID（从支付宝开放平台获取）
  app-id: 你的AppID
  # 应用私钥（RSA2私钥，不要泄露）
  private-key: 你的应用私钥
  # 支付宝公钥（从开放平台获取）
  alipay-public-key: 支付宝公钥
  # 支付完成后的跳转地址（前端页面）
  return-url: http://localhost:5173/payment/result
  # 支付宝网关地址（沙箱环境使用沙箱网关）
  gateway-url: https://openapi-sandbox.dl.alipaydev.com/gateway.do
  # 正式环境网关（上线时切换）
  # gateway-url: https://openapi.alipay.com/gateway.do

# 微信支付配置
wechat:
  pay:
    # 是否启用微信支付（配置好真实凭证后改为true）
    enabled: false
    # 商户号（从微信支付商户平台获取）
    merchant-id: 你的商户号
    # 商户API私钥（RSA私钥内容，不要泄露）
    private-key: |
      -----BEGIN PRIVATE KEY-----
      你的商户API私钥内容
      -----END PRIVATE KEY-----
    # 商户证书序列号
    merchant-serial-number: 你的证书序列号
    # APIv3密钥
    api-v3-key: 你的APIv3密钥
    # AppID（公众号或小程序的AppID）
    app-id: 你的AppID
    # 支付结果通知地址（需要公网可访问，用于接收微信支付异步通知）
    notify-url: https://your-domain.com/api/payment/wechat/notify
    # 支付完成后的跳转地址（前端页面）
    return-url: http://localhost:5173/payment/result
